function l({state:o}){return{state:o,init:function(){ClassicEditor.create(this.$refs.editor,{extraPlugins:[u],toolbar:{shouldNotGroupWhenFull:!1}}).then(e=>{e.setData(this.state??""),e.model.document.on("change:data",()=>{this.state=e.getData()})}).catch(e=>console.error(e))}}}var n=class{constructor(e){this.loader=e}upload(){return this.loader.file.then(e=>new Promise((s,r)=>{let a=new FormData;a.append("upload",e),fetch("/upload",{method:"POST",body:a,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(t=>t.json()).then(t=>{t.uploaded?s({default:t.url}):r(t.error.message)}).catch(r)}))}};function u(o){o.plugins.get("FileRepository").createUploadAdapter=e=>new n(e)}export{l as default};
